<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order History - Chandra Dukan</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="upgrades.css">
    <link rel="stylesheet" href="orders.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="modern-header">
        <div class="container">
            <div class="header-wrapper">
                <!-- Logo -->
                <div class="header-logo">
                    <a href="index.html" class="logo-link">
                        <span class="logo-icon">üè™</span>
                        <div class="logo-text">
                            <span class="logo-name">Chandra Dukan</span>
                            <span class="logo-tagline">‡§ö‡§Ç‡§¶‡•ç‡§∞‡§æ ‡§¶‡•Å‡§ï‡§æ‡§®</span>
                        </div>
                    </a>
                </div>

                <!-- Right Actions -->
                <div class="header-actions">
                    <a href="index.html" class="action-btn">
                        <span class="action-icon">üè†</span>
                        <span class="action-label">Home</span>
                    </a>
                    <a href="cart.html" class="action-btn cart-btn">
                        <span class="action-icon">üõí</span>
                        <span class="cart-badge" id="cartBadge">0</span>
                        <span class="action-label">Cart</span>
                    </a>
                    <a href="account.html" class="action-btn">
                        <span class="action-icon">üë§</span>
                        <span class="action-label">Account</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Page Title -->
    <section class="page-title-section">
        <div class="container">
            <h1 class="page-title">My Orders</h1>
            <p class="page-subtitle">Track and manage your order history</p>
        </div>
    </section>

    <!-- Order History Container -->
    <div class="orders-page-container">
        <div class="container">
            <!-- Filters Bar -->
            <div class="orders-filters-bar">
                <!-- Status Filter -->
                <div class="filter-group">
                    <label class="filter-label">Status:</label>
                    <select class="filter-select" id="statusFilter">
                        <option value="">All Orders</option>
                        <option value="pending">Pending</option>
                        <option value="confirmed">Confirmed</option>
                        <option value="processing">Processing</option>
                        <option value="packed">Packed</option>
                        <option value="shipped">Shipped</option>
                        <option value="out_for_delivery">Out for Delivery</option>
                        <option value="delivered">Delivered</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>

                <!-- Date Range Filter -->
                <div class="filter-group">
                    <label class="filter-label">From:</label>
                    <input type="date" class="filter-input" id="startDateFilter">
                </div>

                <div class="filter-group">
                    <label class="filter-label">To:</label>
                    <input type="date" class="filter-input" id="endDateFilter">
                </div>

                <!-- Apply Filters Button -->
                <button class="btn-apply-filters" id="applyFiltersBtn">
                    <span>Apply Filters</span>
                </button>

                <!-- Clear Filters -->
                <button class="btn-clear-filters" id="clearFiltersBtn">
                    <span>Clear</span>
                </button>
            </div>

            <!-- Orders Summary -->
            <div class="orders-summary" id="ordersSummary">
                <div class="summary-card">
                    <div class="summary-icon">üì¶</div>
                    <div class="summary-content">
                        <div class="summary-value" id="totalOrdersCount">0</div>
                        <div class="summary-label">Total Orders</div>
                    </div>
                </div>
                <div class="summary-card">
                    <div class="summary-icon">‚úÖ</div>
                    <div class="summary-content">
                        <div class="summary-value" id="deliveredCount">0</div>
                        <div class="summary-label">Delivered</div>
                    </div>
                </div>
                <div class="summary-card">
                    <div class="summary-icon">üöö</div>
                    <div class="summary-content">
                        <div class="summary-value" id="activeCount">0</div>
                        <div class="summary-label">Active</div>
                    </div>
                </div>
                <div class="summary-card">
                    <div class="summary-icon">‚ùå</div>
                    <div class="summary-content">
                        <div class="summary-value" id="cancelledCount">0</div>
                        <div class="summary-label">Cancelled</div>
                    </div>
                </div>
            </div>

            <!-- Loading State -->
            <div class="orders-loading" id="ordersLoading">
                <div class="loading-spinner"></div>
                <p>Loading your orders...</p>
            </div>

            <!-- Orders List -->
            <div class="orders-list" id="ordersList" style="display: none;">
                <!-- Orders will be rendered here -->
            </div>

            <!-- Empty State -->
            <div class="orders-empty" id="ordersEmpty" style="display: none;">
                <div class="empty-icon">üì¶</div>
                <h3>No Orders Found</h3>
                <p>You haven't placed any orders yet. Start shopping now!</p>
                <a href="products.html" class="btn-primary">Browse Products</a>
            </div>

            <!-- Error State -->
            <div class="orders-error" id="ordersError" style="display: none;">
                <div class="error-icon">‚ö†Ô∏è</div>
                <h3>Failed to Load Orders</h3>
                <p id="errorMessage">Something went wrong. Please try again.</p>
                <button class="btn-primary" onclick="window.location.reload()">Retry</button>
            </div>
        </div>
    </div>

    <!-- Order Details Modal -->
    <div class="modal-overlay" id="orderDetailsModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2>Order Details</h2>
                <button class="modal-close" onclick="closeOrderModal()">‚úï</button>
            </div>
            
            <div class="modal-body" id="orderDetailsContent">
                <!-- Order details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer-enhanced">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <div class="footer-logo">
                        <span class="logo-icon">üè™</span>
                        <span class="logo-name">Chandra Dukan</span>
                    </div>
                    <p class="footer-description">
                        Your trusted local grocery store delivering fresh products to your doorstep.
                    </p>
                </div>
                <div class="footer-column">
                    <h4>Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="order-history.html">Orders</a></li>
                        <li><a href="account.html">Account</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Contact Info</h4>
                    <ul class="footer-contact">
                        <li>üìû +91 7465073957</li>
                        <li>üìç Nawalpur Beyora</li>
                        <li>üïê 7 AM - 10 PM Daily</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Chandra Dukan. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="services/NotificationService.js"></script>
    <script src="services/CartService.js"></script>
    <script src="order-history.js"></script>
</body>
</html>
